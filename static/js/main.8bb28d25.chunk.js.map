{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/ProtectedRoute.js","components/LoginForm.js","components/Login.js","components/Register.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","utils/token.js","components/App.js","index.js"],"names":["Header","userEmail","loggedIn","onSignOut","pathname","useLocation","to","text","className","src","logo","alt","onClick","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","type","aria-label","link","name","length","Main","onEditProfile","onEditAvatar","onAddPlace","cards","listCards","map","style","backgroundImage","avatar","about","ImagePopup","onClose","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","user","method","body","JSON","stringify","cardId","authorization","auth","email","password","token","Authorization","PopupWithForm","props","submitBtnCaptionIsLoading","isOpen","title","onSubmit","noValidate","children","isLoading","submitBtnCaption","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","evt","target","value","id","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarLink","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","handleChange","state","onAddPlaceSubmit","ConfirmPopup","onConfirmDeleteCard","ProtectedRoute","Component","component","LoginForm","submitBtnText","comp","inputValues","setInputValues","handleInputChange","Login","onLogin","Register","onRegister","InfoTooltip","isResponseFail","srcImg","failImg","successImg","Token","localStorage","setItem","key","removeItem","getItem","withRouter","history","useHistory","setEmail","setIsResponseFail","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","idCardForDelete","setIdCardForDelete","showInfoTooltip","isError","err","console","log","getToken","checkToken","data","push","catch","all","getUserInfo","getCards","userData","cardsData","closeAllPopups","Provider","removeToken","path","formData","saveToken","registration","changeLikeCardStatus","newCard","c","setUserInfo","newUser","setUserAvatar","createCard","deleteCard","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8bb28d25.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link, useLocation } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nfunction Header({ userEmail, loggedIn, onSignOut }) {\n  const { pathname } = useLocation();\n\n  const to =\n    pathname === '/sign-up'\n      ? '/sign-in'\n      : pathname === '/sign-in'\n      ? '/sign-up'\n      : '';\n  const text =\n    pathname === '/sign-up'\n      ? 'Войти'\n      : pathname === '/sign-in'\n      ? 'Регистрация'\n      : '';\n\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"логотип\" />\n\n      <div className=\"header__user-status\">\n        <p className=\"header__email\">{userEmail}</p>\n        {loggedIn ? (\n          <Link to=\"/\" className=\"header__link\" onClick={onSignOut}>\n            Выйти\n          </Link>\n        ) : (\n          <Link to={to} className=\"header__link\">\n            {text}\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">©️ 2021. Киринцев Сергей</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <li className=\"elements__element\">\n      {isOwn && (\n        <button\n          onClick={handleDeleteClick}\n          type=\"button\"\n          aria-label=\"Удалить\"\n          className=\"elements__trash-btn btn-hover\"\n        />\n      )}\n      <div className=\"elements__img-wrap\">\n        <img onClick={handleClick} src={card.link} alt={card.name} className=\"elements__img\" />\n      </div>\n      <div className=\"elements__description\">\n        <h2 className=\"elements__text block\">{card.name}</h2>\n        <div className=\"elements__like-wrap\">\n          <button\n            onClick={handleLikeClick}\n            type=\"button\"\n            aria-label=\"Нравится\"\n            className={`elements__like-btn btn-hover ${isLiked ? 'elements__like-btn_active' : ''}`}\n          />\n          <span className=\"elements__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({\n  onEditProfile,\n  onEditAvatar,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const listCards = cards.map((card) => (\n    <Card\n      key={card._id}\n      card={card}\n      onCardClick={onCardClick}\n      onCardLike={onCardLike}\n      onCardDelete={onCardDelete}\n    />\n  ));\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div onClick={onEditAvatar} className=\"profile__avatar-wrapper\">\n          <div\n            className=\"profile__avatar\"\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          />\n          <div className=\"profile__avatar-overlay\" />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__row\">\n            <h1 className=\"profile__name block\">{currentUser.name}</h1>\n            <button\n              onClick={onEditProfile}\n              type=\"button\"\n              aria-label=\"Редактировать профиль\"\n              className=\"profile__edit-btn btn-hover\"\n            />\n          </div>\n          <p className=\"profile__profession block\">{currentUser.about}</p>\n        </div>\n\n        <button\n          onClick={onAddPlace}\n          type=\"button\"\n          aria-label=\"Добавить карточку\"\n          className=\"profile__add-btn btn-hover\"\n        />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">{listCards}</ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_img_view ${card ? 'popup_is-opened' : ''}`}>\n      <div className=\"popup__img-wrapper\">\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__close-btn btn-hover\"\n        />\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" src={card?.link} alt={card?.name} />\n          <figcaption className=\"popup__caption\">{card?.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","const configAPI = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\n  headers: {\n    authorization: '9405df8f-2b49-4fde-857c-7e0c079d778d',\n    'Content-Type': 'application/json',\n  },\n};\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  setUserInfo(user) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: user.name,\n        about: user.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  createCard(card) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    const method = isLiked ? 'PUT' : 'DELETE';\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method,\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api(configAPI);\n\nexport default api;\n","class Auth {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  registration({ email, password }) {\n    return fetch(`${this.baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ password, email }),\n    }).then(this._checkResponse);\n  }\n\n  authorization({ email, password }) {\n    return fetch(`${this.baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ password, email }),\n    }).then(this._checkResponse);\n  }\n\n  checkToken(token) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._checkResponse);\n  }\n}\n\nconst auth = new Auth('https://auth.nomoreparties.co');\n\nexport default auth;\n","function PopupWithForm(props) {\n  const submitBtnCaptionIsLoading =\n    props.submitBtnCaptionIsLoading || 'Сохранение...';\n  return (\n    <div className={`popup ${props.isOpen ? 'popup_is-opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          onClick={props.onClose}\n          type=\"button\"\n          className=\"popup__close-btn btn-hover\"\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          onSubmit={props.onSubmit}\n          name={props.type}\n          className=\"popup__form\"\n          noValidate\n        >\n          {props.children}\n\n          <button type=\"submit\" className=\"popup__form-submit btn-hover\">\n            {props.isLoading\n              ? submitBtnCaptionIsLoading\n              : props.submitBtnCaption}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState();\n  const [description, setDescription] = React.useState();\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  const handleChangeName = (evt) => {\n    setName(evt.target.value);\n  };\n\n  const handleChangeDescription = (evt) => {\n    setDescription(evt.target.value);\n  };\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      {...props}\n      type={'edit_profile'}\n      title={'Редактировать профиль'}\n      submitBtnCaption={'Сохранить'}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"popup__section\">\n        <input\n          onChange={handleChangeName}\n          id=\"name-profile\"\n          type=\"text\"\n          name=\"name\"\n          className=\"popup__input popup__input_type_name\"\n          value={name || ''}\n          placeholder=\"Имя\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          aria-label=\"Имя\"\n        />\n        <span className=\"popup__input-error name-profile-error\" />\n      </section>\n      <section className=\"popup__section\">\n        <input\n          onChange={handleChangeDescription}\n          id=\"job-profile\"\n          type=\"text\"\n          name=\"about\"\n          className=\"popup__input popup__input_type_job\"\n          value={description || ''}\n          placeholder=\"Увлечение/работа\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          aria-label=\"О себе\"\n        />\n        <span className=\"popup__input-error job-profile-error\" />\n      </section>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarLink = React.useRef(null);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarLink.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      {...props}\n      type={'avatar'}\n      title={'Обновить аватар'}\n      submitBtnCaption={'Сохранить'}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"popup__section\">\n        <input\n          ref={avatarLink}\n          id=\"avatar-link\"\n          type=\"url\"\n          name=\"avatar\"\n          className=\"popup__input\"\n          placeholder=\"Ссылка на аватар\"\n          required\n          aria-label=\"Ссылка на аватар\"\n        />\n        <span className=\"popup__input-error avatar-link-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [place, setPlace] = React.useState({\n    name: '',\n    link: '',\n  });\n\n  const handleChange = (evt) => {\n    setPlace((state) => ({\n      ...state,\n      [evt.target.name]: evt.target.value,\n    }));\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlaceSubmit(place);\n  }\n\n  React.useEffect(() => {\n    setPlace({\n      name: '',\n      link: '',\n    });\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      {...props}\n      type={'add_card'}\n      title={'Новое место'}\n      submitBtnCaption={'Создать'}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"popup__section\">\n        <input\n          onChange={handleChange}\n          value={place.name || ''}\n          id=\"card-name\"\n          type=\"text\"\n          name=\"name\"\n          className=\"popup__input popup__input_type_img-name\"\n          placeholder=\"Название\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          aria-label=\"Имя\"\n        />\n        <span className=\"popup__input-error card-name-error\"></span>\n      </section>\n      <section className=\"popup__section\">\n        <input\n          onChange={handleChange}\n          value={place.link || ''}\n          id=\"card-link\"\n          type=\"url\"\n          name=\"link\"\n          className=\"popup__input popup__input_type_img-link\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          aria-label=\"Ссылка на картинку\"\n        />\n        <span className=\"popup__input-error card-link-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onConfirmDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      {...props}\n      type={'confirm'}\n      title={'Вы уверены?'}\n      submitBtnCaption={'Да'}\n      submitBtnCaptionIsLoading={'Удаление...'}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import { useState } from 'react';\n\nfunction LoginForm({ title, submitBtnText, onSubmit, children, comp }) {\n  const [inputValues, setInputValues] = useState({});\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setInputValues({\n      ...inputValues,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(inputValues);\n  };\n\n  return (\n    <form className=\"login-form\" name=\"loginForm\" onSubmit={handleSubmit}>\n      <h2 className=\"login-form__title\">{title}</h2>\n      <section className=\"login-form__section\">\n        <input\n          onChange={handleInputChange}\n          type=\"email\"\n          name=\"email\"\n          className=\"login-form__input\"\n          value={inputValues.email || ''}\n          placeholder=\"Email\"\n          required\n          aria-label=\"Поле для ввода почты\"\n        />\n      </section>\n      <section className=\"login-form__section\">\n        <input\n          onChange={handleInputChange}\n          type=\"password\"\n          name=\"password\"\n          className=\"login-form__input\"\n          value={inputValues.password || ''}\n          placeholder=\"Пароль\"\n          required\n          minLength=\"5\"\n          aria-label=\"Поле для ввода пароля\"\n        />\n      </section>\n      {comp}\n      <button type=\"submit\" className=\"login-form__submit btn-hover\">\n        {submitBtnText}\n      </button>\n\n      <p className=\"login-form__wrap-link\">{children}</p>\n    </form>\n  );\n}\n\nexport default LoginForm;\n","import LoginForm from './LoginForm';\n\nfunction Login({ onLogin }) {\n  return <LoginForm title=\"Вход\" submitBtnText=\"Войти\" onSubmit={onLogin} />;\n}\n\nexport default Login;\n","import { Link } from 'react-router-dom';\nimport LoginForm from './LoginForm';\n\nfunction Register({ onRegister }) {\n  return (\n    <LoginForm\n      title=\"Регистрация\"\n      submitBtnText=\"Зарегистрироваться\"\n      onSubmit={onRegister}\n    >\n      <Link to=\"/sign-in\" className=\"login-form__link\">\n        Уже зарегистрированы? Войти\n      </Link>\n    </LoginForm>\n  );\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import successImg from '../images/success.svg';\nimport failImg from '../images/fail.svg';\n\nfunction InfoTooltip({ isResponseFail, isOpen, onClose }) {\n  const srcImg = isResponseFail ? failImg : successImg;\n  const title = isResponseFail\n    ? 'Что-то пошло не так! Попробуйте ещё раз.'\n    : 'Вы успешно зарегистрировались!';\n  return (\n    <div className={`popup ${isOpen ? 'popup_is-opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__close-btn btn-hover\"\n        />\n        <img\n          className=\"popup__result-img\"\n          src={srcImg}\n          alt=\"Результат запроса\"\n        />\n        <p className=\"popup__title\">{title}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","class Token {\n  static key = 'jwt';\n\n  static saveToken(token) {\n    localStorage.setItem(this.key, token);\n  }\n\n  static removeToken() {\n    localStorage.removeItem(this.key);\n  }\n\n  static getToken() {\n    return localStorage.getItem(this.key);\n  }\n}\n\nexport default Token;\n","import React from 'react';\nimport { Route, Switch, withRouter, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport Token from '../utils/token';\n\nfunction App() {\n  const history = useHistory();\n  const [email, setEmail] = React.useState(null);\n  const [isResponseFail, setIsResponseFail] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false,\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false,\n  );\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [idCardForDelete, setIdCardForDelete] = React.useState(null);\n\n  React.useEffect(() => {\n    const token = Token.getToken();\n    if (token) {\n      auth\n        .checkToken(token)\n        .then(({ data }) => {\n          setEmail(data.email);\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch((err) => showInfoTooltip(true, err));\n    } else {\n      console.log('Нет токена');\n    }\n  }, [history]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCards()])\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log('Promise.all', err);\n      });\n  }, []);\n\n  function handleSignOut() {\n    Token.removeToken();\n    setEmail(null);\n    setLoggedIn(false);\n  }\n\n  function showInfoTooltip(isError, err = null) {\n    if (err) console.log(err);\n    setIsResponseFail(isError);\n    setIsInfoTooltipOpen(true);\n  }\n\n  function handleRegister(formData) {\n    auth\n      .registration(formData)\n      .then((res) => {\n        if (res.data) {\n          showInfoTooltip(false);\n          history.push('/sign-in');\n        }\n      })\n      .catch((err) => showInfoTooltip(true, err));\n  }\n  // mail_555@mail.ru\n  // 55555\n  function handleLogin(formData) {\n    auth\n      .authorization(formData)\n      .then(({ token }) => {\n        if (token) {\n          Token.saveToken(token);\n          setLoggedIn(true);\n          setEmail(formData.email);\n          history.push('/');\n        }\n      })\n      .catch((err) => showInfoTooltip(true, err));\n  }\n\n  function handleCardDeleteAfterConfirm() {\n    setIsLoading(true);\n    api\n      .deleteCard(idCardForDelete)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== idCardForDelete));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log('handleCardDeleteAfterConfirm', err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setIdCardForDelete(card._id);\n    setIsConfirmPopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c)),\n        );\n      })\n      .catch((err) => {\n        console.log('handleCardLike', err);\n      });\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setSelectedCard(null);\n    setIsLoading(false);\n    setIdCardForDelete(null);\n    setIsInfoTooltipOpen(false);\n  };\n\n  const handleUpdateUser = (user) => {\n    setIsLoading(true);\n    api\n      .setUserInfo(user)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log('handleUpdateUser', err);\n      });\n  };\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    setIsLoading(true);\n    api\n      .setUserAvatar(avatar)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log('handleUpdateAvatar', err);\n      });\n  };\n\n  const handleAddPlaceSubmit = (place) => {\n    setIsLoading(true);\n    api\n      .createCard(place)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log('handleAddPlaceSubmit', err);\n      });\n  };\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          userEmail={email}\n          loggedIn={loggedIn}\n          onSignOut={handleSignOut}\n        />\n\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n\n          <ProtectedRoute\n            // exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n        </Switch>\n\n        <Footer />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlaceSubmit={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        <ConfirmPopup\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onConfirmDeleteCard={handleCardDeleteAfterConfirm}\n          isLoading={isLoading}\n        />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          isResponseFail={isResponseFail}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}